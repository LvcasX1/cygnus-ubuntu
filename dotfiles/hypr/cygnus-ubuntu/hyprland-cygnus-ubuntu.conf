# Cygnus-Ubuntu Hyprland Configuration
# Based on https://github.com/basecamp/omarchy
# To use: source this file from your main hyprland.conf or replace it

# ═══════════════════════════════════════════════════════════════
# IMPORTANT: Keep your HyDE scripts and startup apps working
# ═══════════════════════════════════════════════════════════════

$configs = $HOME/.config/hypr/configs
$UserConfigs = $HOME/.config/hypr/UserConfigs
$scriptsDir = $HOME/.config/hypr/scripts
$UserScripts = $HOME/.config/hypr/UserScripts
$cygnusDir = $HOME/.config/hypr/cygnus-ubuntu

# ═══════════════════════════════════════════════════════════════
# STARTUP (Keep your existing startup apps)
# ═══════════════════════════════════════════════════════════════
exec-once = $HOME/.config/hypr/initial-boot.sh 2>/dev/null || true
source = $configs/Startup_Apps.conf
source = $UserConfigs/Startup_Apps.conf

# Start waybar with Cygnus-Ubuntu config
exec-once = pkill waybar; sleep 0.5 && waybar -c ~/.config/waybar/cygnus-ubuntu-config.jsonc -s ~/.config/waybar/cygnus-ubuntu-style.css

# ═══════════════════════════════════════════════════════════════
# ENVIRONMENT VARIABLES
# ═══════════════════════════════════════════════════════════════
source = $UserConfigs/ENVariables.conf

# ═══════════════════════════════════════════════════════════════
# MONITORS & WORKSPACES (Keep your settings)
# ═══════════════════════════════════════════════════════════════
source = $HOME/.config/hypr/monitors.conf
source = $HOME/.config/hypr/workspaces.conf

# ═══════════════════════════════════════════════════════════════
# INPUT (Keep your existing input settings)
# ═══════════════════════════════════════════════════════════════
input {
    kb_layout = us
    kb_options = caps:escape
    numlock_by_default = true

    repeat_rate = 40
    repeat_delay = 600

    follow_mouse = 1
    sensitivity = 0

    touchpad {
        natural_scroll = true
        scroll_factor = 0.4
        disable_while_typing = true
        tap-to-click = true
    }
}

# ═══════════════════════════════════════════════════════════════
# CYGNUS-UBUNTU LOOK AND FEEL
# ═══════════════════════════════════════════════════════════════
source = $cygnusDir/looknfeel.conf

# ═══════════════════════════════════════════════════════════════
# CYGNUS-UBUNTU KEYBINDINGS
# ═══════════════════════════════════════════════════════════════
source = $cygnusDir/bindings.conf

# ═══════════════════════════════════════════════════════════════
# WINDOW RULES (Keep your existing rules)
# ═══════════════════════════════════════════════════════════════
source = $configs/WindowRules.conf
source = $UserConfigs/WindowRules.conf

# ═══════════════════════════════════════════════════════════════
# ADDITIONAL CYGNUS-UBUNTU WINDOW RULES
# ═══════════════════════════════════════════════════════════════

# Floating windows
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(gnome-calculator)$
windowrulev2 = float, class:^(file-roller)$
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = float, title:^(Open File)$
windowrulev2 = float, title:^(Save File)$
windowrulev2 = float, title:^(Confirm to replace files)$

# Picture-in-picture
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = keepaspectratio, title:^(Picture-in-Picture)$

# Dialog windows
windowrulev2 = float, class:^()$, title:^()$
windowrulev2 = center, class:^()$, title:^()$

# Rofi
windowrulev2 = float, class:^(Rofi)$
windowrulev2 = stayfocused, class:^(Rofi)$

# Layer rules for waybar
layerrule = blur, waybar
layerrule = ignorezero, waybar

# Layer rules for rofi (blur effect)
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = dimaround, rofi
